<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        x:Class="TornPropertyManager.MainWindow"
        Width="900"
        Height="550"
        Background="#1E1E1E"
        x:CompileBindings="False"
        Title="Torn Property Manager">

  <DockPanel Margin="15">

    <!-- Header -->
    <Grid DockPanel.Dock="Top" ColumnDefinitions="*,Auto" Margin="0,0,0,15">
      <TextBlock Text="Your Properties"
                 FontSize="28"
                 VerticalAlignment="Center"
                 Foreground="White"/>

      <Button Grid.Column="1"
              Content="Reset API Key"
              Padding="12,6"
              Command="{Binding ResetApiKeyCommand}"
              Background="#03DAC6"
              Foreground="Black"
              BorderBrush="#03DAC6"
              CornerRadius="6"/>
    </Grid>

    <!-- Status -->
    <Border DockPanel.Dock="Bottom"
            Background="#252525"
            Padding="10"
            CornerRadius="4">
      <TextBlock Text="{Binding StatusMessage}"
                 Foreground="#BBBBBB"
                 FontSize="14"/>
    </Border>

    <!-- SIMPLE LIST OF PROPERTIES -->
    <Border Background="#1E1E1E"
            CornerRadius="4"
            Padding="8">
      <ScrollViewer>
        <StackPanel>
          <TextBlock Text="{Binding Properties.Count, StringFormat='Total properties: {0}'}"
                     Foreground="#BBBBBB"
                     Margin="0,0,0,8"/>

          <ListBox ItemsSource="{Binding Properties}">
            <ListBox.ItemTemplate>
              <DataTemplate>
                <Border Background="#252525"
                        CornerRadius="4"
                        Margin="0,0,0,8"
                        Padding="8">
                  <StackPanel>
                    <TextBlock Text="{Binding PropertyName}"
                               FontSize="18"
                               Foreground="White"/>
                    <TextBlock Text="{Binding Status, StringFormat='Status: {0}'}"
                               Foreground="#CCCCCC"/>
                    <TextBlock Text="{Binding Happy, StringFormat='Happy: {0}'}"
                               Foreground="#CCCCCC"/>
                    <TextBlock Text="{Binding Upkeep, StringFormat='Upkeep: {0}'}"
                               Foreground="#CCCCCC"/>
                    <TextBlock Text="{Binding StaffCost, StringFormat='Staff cost: {0}'}"
                               Foreground="#CCCCCC"/>
                    <TextBlock Text="{Binding MarketPrice, StringFormat='Market price: {0}'}"
                               Foreground="#CCCCCC"/>

                    <TextBlock Text="{Binding IsRentedOut, StringFormat='Rented out: {0}'}"
                               Foreground="#CCCCCC"/>
                    <TextBlock Text="{Binding DaysLeft, StringFormat='Days left: {0}'}"
                               Foreground="#CCCCCC"/>
                  </StackPanel>
                </Border>
              </DataTemplate>
            </ListBox.ItemTemplate>
          </ListBox>
        </StackPanel>
      </ScrollViewer>
    </Border>

  </DockPanel>
</Window>
